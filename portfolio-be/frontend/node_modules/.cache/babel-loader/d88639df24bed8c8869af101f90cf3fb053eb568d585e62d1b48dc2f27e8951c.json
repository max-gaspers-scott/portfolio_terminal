{"ast":null,"code":"var _jsxFileName = \"/home/mgs/portfolio_terminal/portfolio-be/frontend/src/components/xterm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { Terminal } from 'xterm';\nimport 'xterm/css/xterm.css';\nimport { FitAddon } from 'xterm-addon-fit';\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst files = {\n  'about-me.txt': 'My name is max. \\r\\nIm a software engineer. I\\'ve worked across the stack \\r\\nand like working in fast pased invirenments where I can have an impact on users',\n  'file2.js': 'this is the contents of file 2',\n  'notes.md': 'here are some notes '\n};\nconst fitAddon = new FitAddon();\nlet passt_commands = [];\nfunction XTermTerminal() {\n  _s();\n  const terminalRef = useRef(null);\n  const xtermRef = useRef(null);\n  const containerRef = useRef(null);\n  const socketRef = useRef(null);\n  useEffect(() => {\n    // Connect to WebSocket server\n    socketRef.current = io('http://localhost:8081'); // Connect to the backend server\n\n    socketRef.current.on('connect', () => {\n      console.log('Connected to WebSocket server');\n    });\n    socketRef.current.on('terminal_output', data => {\n      // Handle the response from the server\n      if (xtermRef.current) {\n        xtermRef.current.write(`\\r\\n${data}\\r\\n$ `);\n      }\n    });\n    socketRef.current.on('disconnect', () => {\n      console.log('Disconnected from WebSocket server');\n    });\n    const initTerminal = () => {\n      xtermRef.current = new Terminal({\n        theme: {\n          background: '#000000',\n          // Black background\n          foreground: '#00ff00',\n          // Neon green text to match the site\n          cursor: '#00ff00',\n          // Green cursor\n          selection: 'rgba(0, 255, 0, 0.3)' // Green selection background\n        }\n      });\n      xtermRef.current.loadAddon(fitAddon);\n      if (terminalRef.current) {\n        xtermRef.current.open(terminalRef.current);\n        fitAddon.fit(); // Call after opening the terminal\n\n        xtermRef.current.write('Welcome to the terminal!\\r\\nType anything to send to the server.\\r\\n$ ');\n        let command = '';\n        xtermRef.current.onData(data => {\n          passt_commands.push(data);\n          if (data === '\\x1b[A') {\n            // Up arrow key\n            return;\n          } else if (data === '\\x1b[B' || data == '\\x1b[C' || data === '\\x1b[D') {\n            // Other arrow keys\n            return;\n          } else if (data.charCodeAt(0) === 13) {\n            // Enter key\n            xtermRef.current.write('\\r\\n');\n\n            // Check if it's a local command first\n            // if (command.trim() === 'ls') {\n            //   xtermRef.current.write(Object.keys(files).join('\\r\\n') + '\\r\\n$ ');\n            //   command = '';\n            //   return;\n            // } else\n            if (command.trim().split(\" \")[0] === 'cat') {\n              const fileName = command.trim().split(\" \")[1];\n              if (files[fileName]) {\n                xtermRef.current.write(files[fileName] + \"\\r\\n$ \");\n              } else {\n                xtermRef.current.write(\"File not found\\r\\n$ \");\n              }\n              command = '';\n              return;\n            } else if (command === \"\") {\n              xtermRef.current.write(\"$ \");\n              command = '';\n              return;\n            } else if (command.trim() === 'help') {\n              xtermRef.current.write(\"Available commands: ls, cat [filename], help\\r\\n$ \");\n              command = '';\n              return;\n            }\n\n            // Send the command to the backend via WebSocket\n            if (socketRef.current && command.trim() !== '') {\n              socketRef.current.emit('terminal_input', command.trim());\n            }\n            command = '';\n          } else if (data.charCodeAt(0) === 127) {\n            // Backspace\n            if (command.length > 0) {\n              xtermRef.current.write('\\b \\b');\n              command = command.slice(0, -1);\n            }\n          } else if (data.charCodeAt(0) === 37) {\n            // Left arrow key\n            command = passt_commands[passt_commands.length - 1];\n            xtermRef.current.write(command);\n          } else {\n            xtermRef.current.write(data);\n            command += data;\n          }\n        });\n      }\n    };\n\n    // Delay initialization to ensure DOM is ready\n    const timer = setTimeout(() => {\n      initTerminal();\n    }, 0);\n    return () => {\n      clearTimeout(timer);\n      if (xtermRef.current) {\n        xtermRef.current.dispose();\n      }\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    className: \"terminal-container\",\n    style: {\n      position: 'relative',\n      width: '600px',\n      height: '300px',\n      margin: '20px auto 0',\n      // Center the div with top margin but no bottom margin\n      borderRadius: '4px',\n      overflow: 'hidden',\n      border: '6px solid #000000' /* Black border, 6px thick */\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: terminalRef,\n      className: \"terminal-content\",\n      style: {\n        width: '100%',\n        height: '100%',\n        backgroundColor: '#000000',\n        // Black background for terminal\n        border: '1px solid rgba(0, 255, 0, 0.3)',\n        // Green border to match site\n        boxShadow: '0 0 15px rgba(0, 255, 0, 0.2)',\n        // Green glow to match site\n        overflow: 'hidden' // Hide scrollbar\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n}\n_s(XTermTerminal, \"QTpQLM5bbU4O38fHAfvaQWdpzeY=\");\n_c = XTermTerminal;\nexport default XTermTerminal;\nvar _c;\n$RefreshReg$(_c, \"XTermTerminal\");","map":{"version":3,"names":["React","useEffect","useRef","Terminal","FitAddon","io","jsxDEV","_jsxDEV","files","fitAddon","passt_commands","XTermTerminal","_s","terminalRef","xtermRef","containerRef","socketRef","current","on","console","log","data","write","initTerminal","theme","background","foreground","cursor","selection","loadAddon","open","fit","command","onData","push","charCodeAt","trim","split","fileName","emit","length","slice","timer","setTimeout","clearTimeout","dispose","disconnect","ref","className","style","position","width","height","margin","borderRadius","overflow","border","children","backgroundColor","boxShadow","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/mgs/portfolio_terminal/portfolio-be/frontend/src/components/xterm.js"],"sourcesContent":["\nimport React, { useEffect, useRef } from 'react';\nimport { Terminal } from 'xterm';\nimport 'xterm/css/xterm.css';\nimport { FitAddon } from 'xterm-addon-fit';\nimport { io } from 'socket.io-client';\n\nconst files = {\n  'about-me.txt': 'My name is max. \\r\\nIm a software engineer. I\\'ve worked across the stack \\r\\nand like working in fast pased invirenments where I can have an impact on users',\n  'file2.js': 'this is the contents of file 2',\n  'notes.md': 'here are some notes '\n};\n\nconst fitAddon = new FitAddon();\n\nlet passt_commands = [];\n\n\n\nfunction XTermTerminal() {\n  const terminalRef = useRef(null);\n  const xtermRef = useRef(null);\n  const containerRef = useRef(null);\n  const socketRef = useRef(null);\n\n  useEffect(() => {\n    // Connect to WebSocket server\n    socketRef.current = io('http://localhost:8081'); // Connect to the backend server\n\n    socketRef.current.on('connect', () => {\n      console.log('Connected to WebSocket server');\n    });\n\n    socketRef.current.on('terminal_output', (data) => {\n      // Handle the response from the server\n      if (xtermRef.current) {\n        xtermRef.current.write(`\\r\\n${data}\\r\\n$ `);\n      }\n    });\n\n    socketRef.current.on('disconnect', () => {\n      console.log('Disconnected from WebSocket server');\n    });\n\n    const initTerminal = () => {\n      xtermRef.current = new Terminal({\n        theme: {\n          background: '#000000', // Black background\n          foreground: '#00ff00', // Neon green text to match the site\n          cursor: '#00ff00', // Green cursor\n          selection: 'rgba(0, 255, 0, 0.3)', // Green selection background\n        }\n      });\n      xtermRef.current.loadAddon(fitAddon);\n\n      if (terminalRef.current) {\n        xtermRef.current.open(terminalRef.current);\n        fitAddon.fit(); // Call after opening the terminal\n\n        xtermRef.current.write('Welcome to the terminal!\\r\\nType anything to send to the server.\\r\\n$ ');\n\n        let command = '';\n\n        xtermRef.current.onData((data) => {\n          passt_commands.push(data);\n          if (data === '\\x1b[A') {\n            // Up arrow key\n            return;\n          } else if (data === '\\x1b[B' || data == '\\x1b[C' || data === '\\x1b[D') {\n            // Other arrow keys\n            return;\n          } else if (data.charCodeAt(0) === 13) { // Enter key\n            xtermRef.current.write('\\r\\n');\n\n            // Check if it's a local command first\n            // if (command.trim() === 'ls') {\n            //   xtermRef.current.write(Object.keys(files).join('\\r\\n') + '\\r\\n$ ');\n            //   command = '';\n            //   return;\n            // } else\n            if (command.trim().split(\" \")[0] === 'cat') {\n              const fileName = command.trim().split(\" \")[1];\n              if (files[fileName]) {\n                xtermRef.current.write(files[fileName] + \"\\r\\n$ \");\n              } else {\n                xtermRef.current.write(\"File not found\\r\\n$ \");\n              }\n              command = '';\n              return;\n            } else if (command === \"\") {\n              xtermRef.current.write(\"$ \");\n              command = '';\n              return;\n            } else if (command.trim() === 'help') {\n              xtermRef.current.write(\"Available commands: ls, cat [filename], help\\r\\n$ \");\n              command = '';\n              return;\n            }\n\n            // Send the command to the backend via WebSocket\n            if (socketRef.current && command.trim() !== '') {\n              socketRef.current.emit('terminal_input', command.trim());\n            }\n\n            command = '';\n          } else if (data.charCodeAt(0) === 127) { // Backspace\n            if (command.length > 0) {\n              xtermRef.current.write('\\b \\b');\n              command = command.slice(0, -1);\n            }\n          } else if (data.charCodeAt(0) === 37){ // Left arrow key\n            command = passt_commands[passt_commands.length -1];\n            xtermRef.current.write(command);\n          } else {\n            xtermRef.current.write(data);\n            command += data;\n          }\n        });\n      }\n    };\n\n    // Delay initialization to ensure DOM is ready\n    const timer = setTimeout(() => {\n      initTerminal();\n    }, 0);\n\n    return () => {\n      clearTimeout(timer);\n      if (xtermRef.current) {\n        xtermRef.current.dispose();\n      }\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n      }\n    };\n  }, []);\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"terminal-container\"\n      style={{\n        position: 'relative',\n        width: '600px',\n        height: '300px',\n        margin: '20px auto 0', // Center the div with top margin but no bottom margin\n        borderRadius: '4px',\n        overflow: 'hidden',\n        border: '6px solid #000000', /* Black border, 6px thick */\n      }}\n    >\n      <div\n        ref={terminalRef}\n        className=\"terminal-content\"\n        style={{\n          width: '100%',\n          height: '100%',\n          backgroundColor: '#000000', // Black background for terminal\n          border: '1px solid rgba(0, 255, 0, 0.3)', // Green border to match site\n          boxShadow: '0 0 15px rgba(0, 255, 0, 0.2)', // Green glow to match site\n          overflow: 'hidden' // Hide scrollbar\n        }}\n      />\n    </div>\n  );\n}\n\nexport default XTermTerminal;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}