{"ast":null,"code":"var _jsxFileName = \"/home/mgs/portfolio_terminal/portfolio-be/frontend/src/componants/xterm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { Terminal } from 'xterm';\nimport 'xterm/css/xterm.css';\nimport { FitAddon } from 'xterm-addon-fit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst files = {\n  'about-me.txt': 'My name is max. \\r\\nIm a software engineer. I\\'ve worked across the stack \\r\\nand like working in fast pased invirenments where I can have an impact on users',\n  'file2.js': 'this is the contents of file 2',\n  'notes.md': 'here are some notes '\n};\nconst fitAddon = new FitAddon();\nlet passt_commands = [];\nfunction XTermTerminal() {\n  _s();\n  const terminalRef = useRef(null);\n  const xtermRef = useRef(null);\n  const containerRef = useRef(null);\n  const mousePosition = useRef({\n    x: 0,\n    y: 0\n  });\n  useEffect(() => {\n    const initTerminal = () => {\n      xtermRef.current = new Terminal({\n        theme: {\n          background: '#000000',\n          // Black background\n          foreground: '#e0e0e0' // Light text color\n        }\n      });\n      xtermRef.current.loadAddon(fitAddon);\n      if (terminalRef.current) {\n        xtermRef.current.open(terminalRef.current);\n        fitAddon.fit(); // Call after opening the terminal\n\n        xtermRef.current.write('Welcome to the fake terminal!\\r\\nType \"ls\" to list files.\\r\\n$ ');\n        let command = '';\n        xtermRef.current.onData(data => {\n          passt_commands.push(data);\n          if (data === '\\x1b[A') {\n            //xtermRef.current.write(passt_commands[passt_commands.length -1]);\n            //command = passt_commands[passt_commands.length -1];\n            return;\n          } else if (data === '\\x1b[B' || data == '\\x1b[C' || data === '\\x1b[D') {\n            return;\n          } else if (data.charCodeAt(0) === 13) {\n            // Enter key\n            xtermRef.current.write('\\r\\n');\n            if (command.trim() === 'ls') {\n              xtermRef.current.write(Object.keys(files).join('\\r\\n') + '\\r\\n');\n            } else if (command.trim().split(\" \")[0] === 'cat') {\n              xtermRef.current.write(\"\");\n              xtermRef.current.write(files[command.trim().split(\" \")[1]] + \"\\r\\n\");\n            } else if (command === \"\") {\n              xtermRef.current.write(\"\\r\");\n            } else {\n              xtermRef.current.write('Command not found\\r\\n');\n            }\n            xtermRef.current.write('$ ');\n            command = '';\n          } else if (data.charCodeAt(0) === 127) {\n            // Backspace\n            if (command.length > 0) {\n              xtermRef.current.write('\\b \\b');\n              command = command.slice(0, -1);\n            }\n          } else if (data.charCodeAt(0) === 37) {\n            command = passt_commands[passt_commands.length - 1];\n            xtermRef.current.write(command);\n          } else {\n            xtermRef.current.write(data);\n            command += data;\n          }\n        });\n      }\n    };\n\n    // Add mouse move event listener to track cursor position for gradient\n    const handleMouseMove = e => {\n      if (containerRef.current) {\n        const rect = containerRef.current.getBoundingClientRect();\n        mousePosition.current = {\n          x: (e.clientX - rect.left) / rect.width * 100,\n          y: (e.clientY - rect.top) / rect.height * 100\n        };\n\n        // Update gradient position\n        containerRef.current.style.setProperty('--mouse-x', `${mousePosition.current.x}%`);\n        containerRef.current.style.setProperty('--mouse-y', `${mousePosition.current.y}%`);\n      }\n    };\n\n    // Delay initialization to ensure DOM is ready\n    const timer = setTimeout(() => {\n      initTerminal();\n      if (containerRef.current) {\n        containerRef.current.addEventListener('mousemove', handleMouseMove);\n      }\n    }, 0);\n    return () => {\n      clearTimeout(timer);\n      if (containerRef.current) {\n        containerRef.current.removeEventListener('mousemove', handleMouseMove);\n      }\n      if (xtermRef.current) {\n        xtermRef.current.dispose();\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    className: \"terminal-container\",\n    style: {\n      position: 'relative',\n      width: '600px',\n      height: '300px',\n      margin: '20px auto 0',\n      // Center the div with top margin but no bottom margin\n      background: 'transparent',\n      '--mouse-x': '50%',\n      '--mouse-y': '50%',\n      borderRadius: '4px',\n      overflow: 'hidden',\n      border: '6px solid #000000' /* Black border, 6px thick */\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: terminalRef,\n      className: \"terminal-content\",\n      style: {\n        width: '100%',\n        height: '100%',\n        backgroundColor: '#000000',\n        // Black background for terminal\n        overflow: 'hidden' // Hide scrollbar\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n_s(XTermTerminal, \"HH/OzkxZmXc/tf9zSHndznuyCjQ=\");\n_c = XTermTerminal;\nexport default XTermTerminal;\nvar _c;\n$RefreshReg$(_c, \"XTermTerminal\");","map":{"version":3,"names":["React","useEffect","useRef","Terminal","FitAddon","jsxDEV","_jsxDEV","files","fitAddon","passt_commands","XTermTerminal","_s","terminalRef","xtermRef","containerRef","mousePosition","x","y","initTerminal","current","theme","background","foreground","loadAddon","open","fit","write","command","onData","data","push","charCodeAt","trim","Object","keys","join","split","length","slice","handleMouseMove","e","rect","getBoundingClientRect","clientX","left","width","clientY","top","height","style","setProperty","timer","setTimeout","addEventListener","clearTimeout","removeEventListener","dispose","ref","className","position","margin","borderRadius","overflow","border","children","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/mgs/portfolio_terminal/portfolio-be/frontend/src/componants/xterm.js"],"sourcesContent":["\nimport React, { useEffect, useRef } from 'react';\nimport { Terminal } from 'xterm';\nimport 'xterm/css/xterm.css';\nimport { FitAddon } from 'xterm-addon-fit';\n\nconst files = {\n  'about-me.txt': 'My name is max. \\r\\nIm a software engineer. I\\'ve worked across the stack \\r\\nand like working in fast pased invirenments where I can have an impact on users', \n  'file2.js': 'this is the contents of file 2', \n  'notes.md': 'here are some notes '\n};\n\n\n\nconst fitAddon = new FitAddon();\n\n\nlet passt_commands = [];\n\n\n\nfunction XTermTerminal() {\n  const terminalRef = useRef(null);\n  const xtermRef = useRef(null);\n  const containerRef = useRef(null);\n  const mousePosition = useRef({ x: 0, y: 0 });\n\n  useEffect(() => {\n    const initTerminal = () => {\n      xtermRef.current = new Terminal({\n        theme: {\n          background: '#000000', // Black background\n          foreground: '#e0e0e0', // Light text color\n        }\n      });\n      xtermRef.current.loadAddon(fitAddon);\n\n      if (terminalRef.current) {\n        xtermRef.current.open(terminalRef.current);\n        fitAddon.fit(); // Call after opening the terminal\n\n        xtermRef.current.write('Welcome to the fake terminal!\\r\\nType \"ls\" to list files.\\r\\n$ ');\n\n        let command = '';\n\n\n        xtermRef.current.onData((data) => {\n\n          passt_commands.push(data);\n          if (data === '\\x1b[A') {\n            //xtermRef.current.write(passt_commands[passt_commands.length -1]);\n            //command = passt_commands[passt_commands.length -1];\n            return;\n          } else if (data === '\\x1b[B' || data == '\\x1b[C' || data === '\\x1b[D') {\n            return;\n          } else if (data.charCodeAt(0) === 13) { // Enter key\n            xtermRef.current.write('\\r\\n');\n            if (command.trim() === 'ls') {\n              xtermRef.current.write(Object.keys(files).join('\\r\\n') + '\\r\\n');\n            } else if (command.trim().split(\" \")[0] === 'cat') {\n              xtermRef.current.write(\"\")\n              xtermRef.current.write(files[command.trim().split(\" \")[1]] + \"\\r\\n\")\n            } else if (command === \"\") {\n              xtermRef.current.write(\"\\r\");\n            } else {\n              xtermRef.current.write('Command not found\\r\\n');\n            }\n            xtermRef.current.write('$ ');\n            command = '';\n          } else if (data.charCodeAt(0) === 127) { // Backspace\n            if (command.length > 0) {\n              xtermRef.current.write('\\b \\b');\n              command = command.slice(0, -1);\n            }\n          } else if (data.charCodeAt(0) === 37){\n            command = passt_commands[passt_commands.length -1];\n            xtermRef.current.write(command);\n          } else {\n            xtermRef.current.write(data);\n            command += data;\n          }\n        });\n      }\n    };\n\n    // Add mouse move event listener to track cursor position for gradient\n    const handleMouseMove = (e) => {\n      if (containerRef.current) {\n        const rect = containerRef.current.getBoundingClientRect();\n        mousePosition.current = {\n          x: ((e.clientX - rect.left) / rect.width) * 100,\n          y: ((e.clientY - rect.top) / rect.height) * 100\n        };\n        \n        // Update gradient position\n        containerRef.current.style.setProperty('--mouse-x', `${mousePosition.current.x}%`);\n        containerRef.current.style.setProperty('--mouse-y', `${mousePosition.current.y}%`);\n      }\n    };\n\n    // Delay initialization to ensure DOM is ready\n    const timer = setTimeout(() => {\n      initTerminal();\n      if (containerRef.current) {\n        containerRef.current.addEventListener('mousemove', handleMouseMove);\n      }\n    }, 0);\n\n    return () => {\n      clearTimeout(timer);\n      if (containerRef.current) {\n        containerRef.current.removeEventListener('mousemove', handleMouseMove);\n      }\n      if (xtermRef.current) {\n        xtermRef.current.dispose();\n      }\n    };\n  }, []);\n\n  return (\n    <div \n      ref={containerRef}\n      className=\"terminal-container\"\n      style={{\n        position: 'relative',\n        width: '600px',\n        height: '300px',\n        margin: '20px auto 0', // Center the div with top margin but no bottom margin\n        background: 'transparent',\n        '--mouse-x': '50%',\n        '--mouse-y': '50%',\n        borderRadius: '4px',\n        overflow: 'hidden',\n        border: '6px solid #000000', /* Black border, 6px thick */\n      }}\n    >\n      <div \n        ref={terminalRef} \n        className=\"terminal-content\"\n        style={{ \n          width: '100%', \n          height: '100%',\n          backgroundColor: '#000000', // Black background for terminal\n          overflow: 'hidden' // Hide scrollbar\n        }} \n      />\n    </div>\n  );\n}\n\nexport default XTermTerminal;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}