{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{Terminal}from'xterm';import'xterm/css/xterm.css';import{FitAddon}from'xterm-addon-fit';import{io}from'socket.io-client';import{jsx as _jsx}from\"react/jsx-runtime\";const files={'about-me.txt':'My name is max. \\r\\nIm a software engineer. I\\'ve worked across the stack \\r\\nand like working in fast pased invirenments where I can have an impact on users','skills.json':\"\\n{\\r\\n\\n\\t\\\"Rust\\\": [\\\"basics\\\", \\\"Axum\\\", \\\"algorithoms\\\", \\\"ratatui\\\"],\\r\\n\\n\\t\\\"Python\\\": [\\\"basics\\\", \\\"Pytorch\\\", \\\"plotly\\\", \\\"jupyter notebooks\\\", \\\"skykitlearn\\\", \\\"fastAPI\\\", \\\"Ray (distributed ML)\\\"],\\r\\n\\n\\t\\\"Javascript\\\": [\\\"Node.js\\\", \\\"React\\\"],\\r\\n\\n\\t\\\"Postgres SQL\\\": [\\\"schema definitions\\\", \\\"sqlx\\\"],\\r\\n\\n\\t\\\"Google Cloud Platform\\\": [\\\"firebase\\\", \\\"firestor\\\", \\\"cloud functions\\\", \\\"blob storage\\\", \\\"secrets maniger\\\"],\\r\\n\\n}\\n  \"};// \"tools\": [\"git\", \"docker\", \"linux\"]\\r\\n\nconst fitAddon=new FitAddon();let passt_commands=[];function XTermTerminal(){const terminalRef=useRef(null);const xtermRef=useRef(null);const containerRef=useRef(null);const socketRef=useRef(null);useEffect(()=>{// Connect to WebSocket server\nsocketRef.current=io('http://localhost:8081');// Connect to the backend server\nsocketRef.current.on('connect',()=>{console.log('Connected to WebSocket server');});socketRef.current.on('terminal_output',data=>{// Handle the response from the server\nif(xtermRef.current){xtermRef.current.write(\"\\r\\n\".concat(data,\"\\r\\n$ \"));}});socketRef.current.on('disconnect',()=>{console.log('Disconnected from WebSocket server');});const initTerminal=()=>{xtermRef.current=new Terminal({theme:{background:'#000000',// Black background\nforeground:'#00ff00',// Neon green text to match the site\ncursor:'#00ff00',// Green cursor\nselection:'rgba(0, 255, 0, 0.3)'// Green selection background\n}});xtermRef.current.loadAddon(fitAddon);if(terminalRef.current){xtermRef.current.open(terminalRef.current);fitAddon.fit();// Call after opening the terminal\nxtermRef.current.write('Welcome to the terminal!\\r\\nType anything to send to the server.\\r\\n$ ');let command='';xtermRef.current.onData(data=>{passt_commands.push(data);if(data==='\\x1b[A'){// Up arrow key\nreturn;}else if(data==='\\x1b[B'||data=='\\x1b[C'||data==='\\x1b[D'){// Other arrow keys\nreturn;}else if(data.charCodeAt(0)===13){// Enter key\nxtermRef.current.write('\\r\\n');// Check if it's a local command first\nif(command.trim()==='ls'){xtermRef.current.write(Object.keys(files).join('\\r\\n')+'\\r\\n$ ');command='';return;}else if(command.trim().split(\" \")[0]==='cat'){const fileName=command.trim().split(\" \")[1];if(files[fileName]){xtermRef.current.write(files[fileName]+\"\\r\\n$ \");}else{xtermRef.current.write(\"File not found\\r\\n$ \");}command='';return;}else if(command===\"\"){xtermRef.current.write(\"$ \");command='';return;}else if(command.trim()==='help'){xtermRef.current.write(\"Available commands: ls, cat [filename], help\\r\\n$ \");command='';return;}// Send the command to the backend via WebSocket\n// if (socketRef.current && command.trim() !== '') {\n//   socketRef.current.emit('terminal_input', command.trim());\n// }\ncommand='';}else if(data.charCodeAt(0)===127){// Backspace\nif(command.length>0){xtermRef.current.write('\\b \\b');command=command.slice(0,-1);}}else if(data.charCodeAt(0)===37){// Left arrow key\ncommand=passt_commands[passt_commands.length-1];xtermRef.current.write(command);}else{xtermRef.current.write(data);command+=data;}});}};// Delay initialization to ensure DOM is ready\nconst timer=setTimeout(()=>{initTerminal();},0);return()=>{clearTimeout(timer);if(xtermRef.current){xtermRef.current.dispose();}if(socketRef.current){socketRef.current.disconnect();}};},[]);return/*#__PURE__*/_jsx(\"div\",{ref:containerRef,className:\"terminal-container\",style:{position:'relative',width:'600px',height:'300px',margin:'20px auto 0',// Center the div with top margin but no bottom margin\nborderRadius:'4px',overflow:'hidden',border:'6px solid #000000'/* Black border, 6px thick */},children:/*#__PURE__*/_jsx(\"div\",{ref:terminalRef,className:\"terminal-content\",style:{width:'100%',height:'100%',backgroundColor:'#000000',// Black background for terminal\nborder:'1px solid rgba(0, 255, 0, 0.3)',// Green border to match site\nboxShadow:'0 0 15px rgba(0, 255, 0, 0.2)',// Green glow to match site\noverflow:'hidden'// Hide scrollbar\n}})});}export default XTermTerminal;","map":{"version":3,"names":["React","useEffect","useRef","Terminal","FitAddon","io","jsx","_jsx","files","fitAddon","passt_commands","XTermTerminal","terminalRef","xtermRef","containerRef","socketRef","current","on","console","log","data","write","concat","initTerminal","theme","background","foreground","cursor","selection","loadAddon","open","fit","command","onData","push","charCodeAt","trim","Object","keys","join","split","fileName","length","slice","timer","setTimeout","clearTimeout","dispose","disconnect","ref","className","style","position","width","height","margin","borderRadius","overflow","border","children","backgroundColor","boxShadow"],"sources":["/home/mgs/portfolio_terminal/portfolio-be/frontend/src/components/xterm.js"],"sourcesContent":["\nimport React, { useEffect, useRef } from 'react';\nimport { Terminal } from 'xterm';\nimport 'xterm/css/xterm.css';\nimport { FitAddon } from 'xterm-addon-fit';\nimport { io } from 'socket.io-client';\n\nconst files = {\n  'about-me.txt': 'My name is max. \\r\\nIm a software engineer. I\\'ve worked across the stack \\r\\nand like working in fast pased invirenments where I can have an impact on users',\n  'skills.json': `\n{\\r\\n\n\\t\"Rust\": [\"basics\", \"Axum\", \"algorithoms\", \"ratatui\"],\\r\\n\n\\t\"Python\": [\"basics\", \"Pytorch\", \"plotly\", \"jupyter notebooks\", \"skykitlearn\", \"fastAPI\", \"Ray (distributed ML)\"],\\r\\n\n\\t\"Javascript\": [\"Node.js\", \"React\"],\\r\\n\n\\t\"Postgres SQL\": [\"schema definitions\", \"sqlx\"],\\r\\n\n\\t\"Google Cloud Platform\": [\"firebase\", \"firestor\", \"cloud functions\", \"blob storage\", \"secrets maniger\"],\\r\\n\n}\n  `\n};\n// \"tools\": [\"git\", \"docker\", \"linux\"]\\r\\n\n\nconst fitAddon = new FitAddon();\n\nlet passt_commands = [];\n\n\n\nfunction XTermTerminal() {\n  const terminalRef = useRef(null);\n  const xtermRef = useRef(null);\n  const containerRef = useRef(null);\n  const socketRef = useRef(null);\n\n  useEffect(() => {\n    // Connect to WebSocket server\n    socketRef.current = io('http://localhost:8081'); // Connect to the backend server\n\n    socketRef.current.on('connect', () => {\n      console.log('Connected to WebSocket server');\n    });\n\n    socketRef.current.on('terminal_output', (data) => {\n      // Handle the response from the server\n      if (xtermRef.current) {\n        xtermRef.current.write(`\\r\\n${data}\\r\\n$ `);\n      }\n    });\n\n    socketRef.current.on('disconnect', () => {\n      console.log('Disconnected from WebSocket server');\n    });\n\n    const initTerminal = () => {\n      xtermRef.current = new Terminal({\n        theme: {\n          background: '#000000', // Black background\n          foreground: '#00ff00', // Neon green text to match the site\n          cursor: '#00ff00', // Green cursor\n          selection: 'rgba(0, 255, 0, 0.3)', // Green selection background\n        }\n      });\n      xtermRef.current.loadAddon(fitAddon);\n\n      if (terminalRef.current) {\n        xtermRef.current.open(terminalRef.current);\n        fitAddon.fit(); // Call after opening the terminal\n\n        xtermRef.current.write('Welcome to the terminal!\\r\\nType anything to send to the server.\\r\\n$ ');\n\n        let command = '';\n\n        xtermRef.current.onData((data) => {\n          passt_commands.push(data);\n          if (data === '\\x1b[A') {\n            // Up arrow key\n            return;\n          } else if (data === '\\x1b[B' || data == '\\x1b[C' || data === '\\x1b[D') {\n            // Other arrow keys\n            return;\n          } else if (data.charCodeAt(0) === 13) { // Enter key\n            xtermRef.current.write('\\r\\n');\n\n            // Check if it's a local command first\n            if (command.trim() === 'ls') {\n              xtermRef.current.write(Object.keys(files).join('\\r\\n') + '\\r\\n$ ');\n              command = '';\n              return;\n            } else\n            if (command.trim().split(\" \")[0] === 'cat') {\n              const fileName = command.trim().split(\" \")[1];\n              if (files[fileName]) {\n                xtermRef.current.write(files[fileName] + \"\\r\\n$ \");\n              } else {\n                xtermRef.current.write(\"File not found\\r\\n$ \");\n              }\n              command = '';\n              return;\n            } else if (command === \"\") {\n              xtermRef.current.write(\"$ \");\n              command = '';\n              return;\n            } else if (command.trim() === 'help') {\n              xtermRef.current.write(\"Available commands: ls, cat [filename], help\\r\\n$ \");\n              command = '';\n              return;\n            }\n\n            // Send the command to the backend via WebSocket\n            // if (socketRef.current && command.trim() !== '') {\n            //   socketRef.current.emit('terminal_input', command.trim());\n            // }\n\n            command = '';\n          } else if (data.charCodeAt(0) === 127) { // Backspace\n            if (command.length > 0) {\n              xtermRef.current.write('\\b \\b');\n              command = command.slice(0, -1);\n            }\n          } else if (data.charCodeAt(0) === 37){ // Left arrow key\n            command = passt_commands[passt_commands.length -1];\n            xtermRef.current.write(command);\n          } else {\n            xtermRef.current.write(data);\n            command += data;\n          }\n        });\n      }\n    };\n\n    // Delay initialization to ensure DOM is ready\n    const timer = setTimeout(() => {\n      initTerminal();\n    }, 0);\n\n    return () => {\n      clearTimeout(timer);\n      if (xtermRef.current) {\n        xtermRef.current.dispose();\n      }\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n      }\n    };\n  }, []);\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"terminal-container\"\n      style={{\n        position: 'relative',\n        width: '600px',\n        height: '300px',\n        margin: '20px auto 0', // Center the div with top margin but no bottom margin\n        borderRadius: '4px',\n        overflow: 'hidden',\n        border: '6px solid #000000', /* Black border, 6px thick */\n      }}\n    >\n      <div\n        ref={terminalRef}\n        className=\"terminal-content\"\n        style={{\n          width: '100%',\n          height: '100%',\n          backgroundColor: '#000000', // Black background for terminal\n          border: '1px solid rgba(0, 255, 0, 0.3)', // Green border to match site\n          boxShadow: '0 0 15px rgba(0, 255, 0, 0.2)', // Green glow to match site\n          overflow: 'hidden' // Hide scrollbar\n        }}\n      />\n    </div>\n  );\n}\n\nexport default XTermTerminal;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}